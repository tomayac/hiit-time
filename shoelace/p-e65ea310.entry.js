import{r as t,c as i,h as s,g as e}from"./p-f58ba550.js";import{h as o}from"./p-f86f6644.js";import{s as l}from"./p-74222c65.js";import{P as n}from"./p-1989d1d1.js";let r=0;const a=class{constructor(s){t(this,s),this.slShow=i(this,"sl-show",7),this.slAfterShow=i(this,"sl-after-show",7),this.slHide=i(this,"sl-hide",7),this.slAfterHide=i(this,"sl-after-hide",7),this.componentId="dropdown-"+ ++r,this.isVisible=!1,this.open=!1,this.placement="bottom-start",this.closeOnSelect=!0,this.distance=2,this.skidding=0,this.hoist=!1}handleOpenChange(){this.open?this.show():this.hide()}handlePopoverOptionsChange(){this.popover.setOptions({strategy:this.hoist?"fixed":"absolute",placement:this.placement,distance:this.distance,skidding:this.skidding})}connectedCallback(){this.containingElement||(this.containingElement=this.host),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.handleTriggerKeyDown=this.handleTriggerKeyDown.bind(this),this.handleTriggerKeyUp=this.handleTriggerKeyUp.bind(this)}componentDidLoad(){this.popover=new n(this.trigger,this.positioner,{strategy:this.hoist?"fixed":"absolute",placement:this.placement,distance:this.distance,skidding:this.skidding,transitionElement:this.panel,onAfterHide:()=>this.slAfterHide.emit(),onAfterShow:()=>this.slAfterShow.emit(),onTransitionEnd:()=>{this.open||(this.panel.scrollTop=0)}}),this.open&&this.show()}disconnectedCallback(){this.hide(),this.popover.destroy()}async show(){this.isVisible||(this.slShow.emit().defaultPrevented?this.open=!1:(this.panel.addEventListener("sl-activate",this.handleMenuItemActivate),this.panel.addEventListener("sl-select",this.handlePanelSelect),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown),this.isVisible=!0,this.open=!0,this.popover.show()))}async hide(){this.isVisible&&(this.slHide.emit().defaultPrevented?this.open=!0:(this.panel.removeEventListener("sl-activate",this.handleMenuItemActivate),this.panel.removeEventListener("sl-select",this.handlePanelSelect),document.addEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),this.isVisible=!1,this.open=!1,this.popover.hide()))}focusOnTrigger(){const t=this.trigger.querySelector("slot").assignedElements({flatten:!0})[0];t&&("function"==typeof t.setFocus?t.setFocus():"function"==typeof t.focus&&t.focus())}getMenu(){return this.panel.querySelector("slot").assignedElements({flatten:!0}).filter(t=>"sl-menu"===t.tagName.toLowerCase())[0]}handleDocumentKeyDown(t){if("Escape"===t.key)return this.hide(),void this.focusOnTrigger();"Tab"===t.key&&setTimeout(()=>{var t;const i=this.containingElement.getRootNode()instanceof ShadowRoot?null===(t=document.activeElement.shadowRoot)||void 0===t?void 0:t.activeElement:document.activeElement;(null==i?void 0:i.closest(this.containingElement.tagName.toLowerCase()))===this.containingElement||this.hide()})}handleDocumentMouseDown(t){t.composedPath().includes(this.containingElement)||this.hide()}handleMenuItemActivate(t){l(t.target,this.panel)}handlePanelSelect(t){this.closeOnSelect&&"sl-menu"===t.target.tagName.toLowerCase()&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(t){const i=this.getMenu();return"Escape"===t.key?(this.hide(),void this.focusOnTrigger()):[" ","Enter"].includes(t.key)?(t.preventDefault(),void(this.open?this.hide():this.show())):["ArrowDown","ArrowUp"].includes(t.key)&&(t.preventDefault(),this.open||this.show(),i)?void i.setFocus():this.open&&i&&!["Tab","Shift","Meta","Ctrl","Alt"].includes(t.key)?(i.setFocus(),void i.typeToSelect(t.key)):void 0}handleTriggerKeyUp(t){" "===t.key&&t.preventDefault()}render(){return s("div",{part:"base",id:this.componentId,class:{dropdown:!0,"dropdown--open":this.open},"aria-expanded":this.open,"aria-haspopup":"true"},s("span",{part:"trigger",class:"dropdown__trigger",ref:t=>this.trigger=t,onClick:this.handleTriggerClick,onKeyDown:this.handleTriggerKeyDown,onKeyUp:this.handleTriggerKeyUp},s("slot",{name:"trigger"})),s("div",{ref:t=>this.positioner=t,class:"dropdown__positioner"},s("div",{ref:t=>this.panel=t,part:"panel",class:"dropdown__panel",role:"menu","aria-hidden":!this.open,"aria-labelledby":this.componentId},s("slot",null))))}get host(){return e(this)}static get watchers(){return{open:["handleOpenChange"],distance:["handlePopoverOptionsChange"],hoist:["handlePopoverOptionsChange"],placement:["handlePopoverOptionsChange"],skidding:["handlePopoverOptionsChange"]}}};a.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:inline-block}.dropdown{position:relative}.dropdown__trigger{display:block}.dropdown__positioner{position:absolute;z-index:var(--sl-z-index-dropdown)}.dropdown__panel{max-height:50vh;font-family:var(--sl-font-sans);font-size:var(--sl-font-size-medium);font-weight:var(--sl-font-weight-normal);color:var(--color);background-color:var(--sl-panel-background-color);border:solid 1px var(--sl-panel-border-color);border-radius:var(--sl-border-radius-medium);box-shadow:var(--sl-shadow-large);opacity:0;overflow:auto;overscroll-behavior:none;transform:scale(0.9);transition:var(--sl-transition-fast) opacity, var(--sl-transition-fast) transform}.dropdown__positioner[data-popper-placement^=top] .dropdown__panel{transform-origin:bottom}.dropdown__positioner[data-popper-placement^=bottom] .dropdown__panel{transform-origin:top}.dropdown__positioner[data-popper-placement^=left] .dropdown__panel{transform-origin:right}.dropdown__positioner[data-popper-placement^=right] .dropdown__panel{transform-origin:left}.dropdown__positioner.popover-visible .dropdown__panel{opacity:1;transform:scale(1)}";let h=0;const p=class{constructor(s){t(this,s),this.slChange=i(this,"sl-change",7),this.slClear=i(this,"sl-clear",7),this.slInput=i(this,"sl-input",7),this.slFocus=i(this,"sl-focus",7),this.slBlur=i(this,"sl-blur",7),this.inputId="input-"+ ++h,this.labelId="input-label-"+h,this.helpTextId="input-help-text-"+h,this.hasFocus=!1,this.hasLabel=!1,this.isPasswordVisible=!1,this.type="text",this.size="medium",this.name="",this.value="",this.pill=!1,this.label="",this.disabled=!1,this.readonly=!1,this.invalid=!1,this.clearable=!1,this.togglePassword=!1}handleLabelChange(){this.detectLabel()}handleValueChange(){this.invalid=!this.input.checkValidity()}connectedCallback(){this.detectLabel=this.detectLabel.bind(this),this.handleChange=this.handleChange.bind(this),this.handleInput=this.handleInput.bind(this),this.handleInvalid=this.handleInvalid.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleClearClick=this.handleClearClick.bind(this),this.handlePasswordToggle=this.handlePasswordToggle.bind(this)}componentWillLoad(){this.detectLabel()}async setFocus(){this.input.focus()}async removeFocus(){this.input.blur()}async select(){return this.input.select()}async setSelectionRange(t,i,s="none"){return this.input.setSelectionRange(t,i,s)}async setRangeText(t,i,s,e="preserve"){this.input.setRangeText(t,i,s,e),this.value!==this.input.value&&(this.value=this.input.value,this.slChange.emit(),this.slInput.emit())}async reportValidity(){return this.input.reportValidity()}async setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}detectLabel(){this.hasLabel=this.label.length>0||o(this.host,"label")}handleChange(){this.value=this.input.value,this.slChange.emit()}handleInput(){this.value=this.input.value,this.slInput.emit()}handleInvalid(){this.invalid=!0}handleBlur(){this.hasFocus=!1,this.slBlur.emit()}handleFocus(){this.hasFocus=!0,this.slFocus.emit()}handleClearClick(t){this.value="",this.slClear.emit(),this.slInput.emit(),this.slChange.emit(),this.input.focus(),t.stopPropagation()}handlePasswordToggle(){this.isPasswordVisible=!this.isPasswordVisible}render(){var t;return s("div",{part:"form-control",class:{"form-control":!0,"form-control--has-label":this.hasLabel,"form-control--invalid":this.invalid}},s("label",{part:"label",class:{label:!0,"label--small":"small"===this.size,"label--medium":"medium"===this.size,"label--large":"large"===this.size,"label--invalid":this.invalid},htmlFor:this.inputId},s("slot",{name:"label",onSlotchange:this.detectLabel},this.label)),s("div",{part:"base",class:{input:!0,"input--small":"small"===this.size,"input--medium":"medium"===this.size,"input--large":"large"===this.size,"input--pill":this.pill,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":0===(null===(t=this.value)||void 0===t?void 0:t.length),"input--invalid":this.invalid}},s("span",{part:"prefix",class:"input__prefix"},s("slot",{name:"prefix"})),s("input",{part:"input",ref:t=>this.input=t,id:this.inputId,class:"input__control",type:"password"===this.type&&this.isPasswordVisible?"text":this.type,name:this.name,placeholder:this.placeholder,disabled:this.disabled,readonly:this.readonly,minLength:this.minlength,maxLength:this.maxlength,min:this.min,max:this.max,step:this.step,value:this.value,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,spellcheck:this.spellcheck,pattern:this.pattern,required:this.required,inputMode:this.inputmode,"aria-labelledby":this.labelId,"aria-describedby":this.helpTextId,"aria-invalid":this.invalid,onChange:this.handleChange,onInput:this.handleInput,onInvalid:this.handleInvalid,onFocus:this.handleFocus,onBlur:this.handleBlur}),this.clearable&&s("button",{part:"clear-button",class:"input__clear",type:"button",onClick:this.handleClearClick,tabindex:"-1"},s("slot",{name:"clear-icon"},s("sl-icon",{name:"x-circle"}))),this.togglePassword&&s("button",{part:"password-toggle-button",class:"input__password-toggle",type:"button",onClick:this.handlePasswordToggle,tabindex:"-1"},this.isPasswordVisible?s("slot",{name:"show-password-icon"},s("sl-icon",{name:"eye-slash"})):s("slot",{name:"hide-password-icon"}," ",s("sl-icon",{name:"eye"}))),s("span",{part:"suffix",class:"input__suffix"},s("slot",{name:"suffix"}))),s("div",{part:"help-text",id:this.helpTextId,class:{"help-text":!0,"help-text--small":"small"===this.size,"help-text--medium":"medium"===this.size,"help-text--large":"large"===this.size,"help-text--invalid":this.invalid}},s("slot",{name:"help-text"})))}get host(){return e(this)}static get watchers(){return{label:["handleLabelChange"],value:["handleValueChange"]}}};p.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}.form-control .label{display:none}.form-control--has-label .label{display:inline-block;color:var(--sl-input-label-color);margin-bottom:var(--sl-spacing-xxx-small)}.form-control--has-label .label.label--small{font-size:var(--sl-input-label-font-size-small)}.form-control--has-label .label.label--medium{font-size:var(--sl-input-label-font-size-medium)}.form-control--has-label .label.label--large{font-size:var(--sl-input-label-font-size-large)}.form-control--has-label .label.label--valid{color:var(--sl-input-label-color-valid)}.form-control--has-label .label.label--invalid{color:var(--sl-input-label-color-invalid)}.help-text{color:var(--sl-input-help-text-color)}.help-text.help-text--small{font-size:var(--sl-input-help-text-font-size-small)}.help-text.help-text--medium{font-size:var(--sl-input-help-text-font-size-medium)}.help-text.help-text--large{font-size:var(--sl-input-help-text-font-size-large)}.help-text.help-text--valid{color:var(--sl-input-help-text-color-valid)}.help-text.help-text--invalid{color:var(--sl-input-help-text-color-invalid)}.help-text ::slotted(*){margin-top:var(--sl-spacing-xxx-small)}:host{--focus-ring:var(--sl-focus-ring-box-shadow);display:block}.input{flex:1 1 auto;display:inline-flex;align-items:stretch;justify-content:start;position:relative;width:100%;font-family:var(--sl-input-font-family);font-weight:var(--sl-input-font-weight);letter-spacing:var(--sl-input-letter-spacing);background-color:var(--sl-input-background-color);border:solid var(--sl-input-border-width) var(--sl-input-border-color);vertical-align:middle;overflow:hidden;transition:var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow;cursor:text}.input:hover:not(.input--disabled){background-color:var(--sl-input-background-color-hover);border-color:var(--sl-input-border-color-hover)}.input:hover:not(.input--disabled) .input__control{color:var(--sl-input-color-hover)}.input.input--focused:not(.input--disabled){background-color:var(--sl-input-background-color-focus);border-color:var(--sl-input-border-color-focus);box-shadow:var(--focus-ring)}.input.input--focused:not(.input--disabled) .input__control{color:var(--sl-input-color-focus)}.input.input--disabled{background-color:var(--sl-input-background-color-disabled);border-color:var(--sl-input-border-color-disabled);opacity:0.5;cursor:not-allowed}.input.input--disabled .input__control{color:var(--sl-input-color-disabled)}.input.input--disabled .input__control::placeholder{color:var(--sl-input-placeholder-color-disabled)}.input__control{flex:1 1 auto;font-family:inherit;font-size:inherit;font-weight:inherit;min-width:0;height:100%;color:var(--sl-input-color);border:none;background:none;box-shadow:none;padding:0;margin:0;cursor:inherit;-webkit-appearance:none}.input__control::-webkit-search-decoration,.input__control::-webkit-search-cancel-button,.input__control::-webkit-search-results-button,.input__control::-webkit-search-results-decoration{-webkit-appearance:none}.input__control:-webkit-autofill,.input__control:-webkit-autofill:hover,.input__control:-webkit-autofill:focus,.input__control:-webkit-autofill:active{box-shadow:0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;-webkit-text-fill-color:var(--sl-color-primary-50)}.input__control::placeholder{color:var(--sl-input-placeholder-color);user-select:none}.input__control:focus{outline:none}.input__prefix,.input__suffix{display:inline-flex;flex:0 0 auto;align-items:center;cursor:default}.input__prefix ::slotted(sl-icon),.input__suffix ::slotted(sl-icon){color:var(--sl-input-icon-color)}.input--small{border-radius:var(--sl-input-border-radius-small);font-size:var(--sl-input-font-size-small);height:var(--sl-input-height-small)}.input--small .input__control{height:calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);margin:0 var(--sl-input-spacing-small)}.input--small .input__clear,.input--small .input__password-toggle{margin-right:var(--sl-input-spacing-small)}.input--small .input__prefix ::slotted(*){margin-left:var(--sl-input-spacing-small)}.input--small .input__suffix ::slotted(*){margin-right:var(--sl-input-spacing-small)}.input--medium{border-radius:var(--sl-input-border-radius-medium);font-size:var(--sl-input-font-size-medium);height:var(--sl-input-height-medium)}.input--medium .input__control{height:calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);margin:0 var(--sl-input-spacing-medium)}.input--medium .input__clear,.input--medium .input__password-toggle{margin-right:var(--sl-input-spacing-medium)}.input--medium .input__prefix ::slotted(*){margin-left:var(--sl-input-spacing-medium)}.input--medium .input__suffix ::slotted(*){margin-right:var(--sl-input-spacing-medium)}.input--large{border-radius:var(--sl-input-border-radius-large);font-size:var(--sl-input-font-size-large);height:var(--sl-input-height-large)}.input--large .input__control{height:calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);margin:0 var(--sl-input-spacing-large)}.input--large .input__clear,.input--large .input__password-toggle{margin-right:var(--sl-input-spacing-large)}.input--large .input__prefix ::slotted(*){margin-left:var(--sl-input-spacing-large)}.input--large .input__suffix ::slotted(*){margin-right:var(--sl-input-spacing-large)}.input--pill.input--small{border-radius:var(--sl-input-height-small)}.input--pill.input--medium{border-radius:var(--sl-input-height-medium)}.input--pill.input--large{border-radius:var(--sl-input-height-large)}.input__clear,.input__password-toggle{display:inline-flex;align-items:center;font-size:inherit;color:var(--sl-input-icon-color);border:none;background:none;padding:0;transition:var(--sl-transition-fast) color;cursor:pointer}.input__clear:hover,.input__password-toggle:hover{color:var(--sl-input-icon-color-hover)}.input__clear:focus,.input__password-toggle:focus{outline:none}.input--empty .input__clear{visibility:hidden}";export{a as sl_dropdown,p as sl_input}