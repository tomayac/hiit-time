import{r as t,c as o,h as r,g as s}from"./p-bf36b983.js";import{f as i}from"./p-33061500.js";import{s as a,g as e}from"./p-6a7e2c00.js";const l=class{constructor(r){t(this,r),this.slTabShow=o(this,"sl-tab-show",7),this.slTabHide=o(this,"sl-tab-hide",7),this.hasScrollControls=!1,this.placement="top",this.noScrollControls=!1}handlePlacementChange(){this.syncActiveTabIndicator()}handleNoScrollControlsChange(){this.updateScrollControls()}connectedCallback(){this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleScrollLeft=this.handleScrollLeft.bind(this),this.handleScrollRight=this.handleScrollRight.bind(this),this.syncActiveTabIndicator=this.syncActiveTabIndicator.bind(this)}componentDidLoad(){new IntersectionObserver(((t,o)=>{t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(this.getActiveTab()||this.getAllTabs()[0],!1),o.unobserve(t[0].target))})).observe(this.host),i.observe(this.tabGroup),this.resizeObserver=new ResizeObserver((()=>this.updateScrollControls())),this.resizeObserver.observe(this.nav),requestAnimationFrame((()=>this.updateScrollControls())),this.mutationObserver=new MutationObserver((t=>{t.some((t=>!["aria-labelledby","aria-controls"].includes(t.attributeName)))&&setTimeout((()=>this.setAriaLabels()))})),this.mutationObserver.observe(this.host,{attributes:!0,childList:!0,subtree:!0})}disconnectedCallback(){this.mutationObserver.disconnect(),i.unobserve(this.tabGroup),this.resizeObserver.unobserve(this.nav)}async show(t){const o=this.getAllTabs().find((o=>o.panel===t));o&&this.setActiveTab(o)}getAllTabs(t=!1){return[...this.tabs.querySelector("slot").assignedElements()].filter((o=>t?"sl-tab"===o.tagName.toLowerCase():"sl-tab"===o.tagName.toLowerCase()&&!o.disabled))}getAllPanels(){return[...this.body.querySelector("slot").assignedElements()].filter((t=>"sl-tab-panel"===t.tagName.toLowerCase()))}getActiveTab(){return this.getAllTabs().find((t=>t.active))}handleClick(t){const o=t.target.closest("sl-tab");if((null==o?void 0:o.closest("sl-tab-group"))!==this.host)return!1;o&&this.setActiveTab(o)}handleKeyDown(t){const o=t.target.closest("sl-tab");if((null==o?void 0:o.closest("sl-tab-group"))!==this.host)return!1;if(["Enter"," "].includes(t.key)&&o&&(this.setActiveTab(o),t.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(t.key)){const o=document.activeElement;if(o&&"sl-tab"===o.tagName.toLowerCase()){const r=this.getAllTabs();let s=r.indexOf(o);"Home"===t.key?s=0:"End"===t.key?s=r.length-1:"ArrowLeft"===t.key?s=Math.max(0,s-1):"ArrowRight"===t.key&&(s=Math.min(r.length-1,s+1)),r[s].setFocus({preventScroll:!0}),["top","bottom"].includes(this.placement)&&a(r[s],this.nav,"horizontal"),t.preventDefault()}}}handleScrollLeft(){this.nav.scroll({left:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollRight(){this.nav.scroll({left:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}updateScrollControls(){this.hasScrollControls=!this.noScrollControls&&["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}setActiveTab(t,o=!0){if(t&&t!==this.activeTab&&!t.disabled){const r=this.activeTab;this.activeTab=t,this.getAllTabs().map((t=>t.active=t===this.activeTab)),this.getAllPanels().map((t=>t.active=t.name===this.activeTab.panel)),this.syncActiveTabIndicator(),["top","bottom"].includes(this.placement)&&a(this.activeTab,this.nav,"horizontal"),o&&(r&&this.slTabHide.emit({name:r.panel}),this.slTabShow.emit({name:this.activeTab.panel}))}}setAriaLabels(){const t=this.getAllTabs(),o=this.getAllPanels();t.map((t=>{const r=o.find((o=>o.name===t.panel));r&&(t.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",t.getAttribute("id")))}))}syncActiveTabIndicator(){const t=this.getActiveTab();if(!t)return void(this.activeTabIndicator.style.display="none");this.activeTabIndicator.style.display="block";const o=t.clientWidth,r=t.clientHeight,s=e(t,this.nav),i=s.top+this.nav.scrollTop,a=s.left+this.nav.scrollLeft;switch(this.placement){case"top":case"bottom":this.activeTabIndicator.style.width=o+"px",this.activeTabIndicator.style.height=null,this.activeTabIndicator.style.transform=`translateX(${a}px)`;break;case"left":case"right":this.activeTabIndicator.style.width=null,this.activeTabIndicator.style.height=r+"px",this.activeTabIndicator.style.transform=`translateY(${i}px)`}}render(){return r("div",{part:"base",ref:t=>this.tabGroup=t,class:{"tab-group":!0,"tab-group--top":"top"===this.placement,"tab-group--bottom":"bottom"===this.placement,"tab-group--left":"left"===this.placement,"tab-group--right":"right"===this.placement,"tab-group--has-scroll-controls":this.hasScrollControls},onClick:this.handleClick,onKeyDown:this.handleKeyDown},r("div",{class:"tab-group__nav-container"},this.hasScrollControls&&r("sl-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--left",exportparts:"base:scroll-button",name:"chevron-left",onClick:this.handleScrollLeft}),r("div",{ref:t=>this.nav=t,key:"nav",part:"nav",class:"tab-group__nav"},r("div",{ref:t=>this.tabs=t,part:"tabs",class:"tab-group__tabs",role:"tablist"},r("div",{ref:t=>this.activeTabIndicator=t,part:"active-tab-indicator",class:"tab-group__active-tab-indicator"}),r("slot",{name:"nav",onSlotchange:this.syncActiveTabIndicator}))),this.hasScrollControls&&r("sl-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--right",exportparts:"base:scroll-button",name:"chevron-right",onClick:this.handleScrollRight})),r("div",{ref:t=>this.body=t,part:"body",class:"tab-group__body"},r("slot",{onSlotchange:this.syncActiveTabIndicator})))}get host(){return s(this)}static get watchers(){return{placement:["handlePlacementChange"],noScrollControls:["handleNoScrollControlsChange"]}}};l.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{--tabs-border-color:var(--sl-color-gray-200);display:block}.tab-group{display:flex;border:solid 1px transparent;border-radius:0}.tab-group .tab-group__tabs{display:flex;position:relative}.tab-group .tab-group__active-tab-indicator{position:absolute;transition:var(--sl-transition-fast) transform ease, var(--sl-transition-fast) width ease}.tab-group:not(.focus-visible) ::slotted(sl-tab){--focus-ring:none}.tab-group--has-scroll-controls .tab-group__nav-container{position:relative;padding:0 var(--sl-spacing-x-large)}.tab-group__scroll-button{display:flex;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;width:var(--sl-spacing-x-large)}.tab-group__scroll-button--left{left:0}.tab-group__scroll-button--right{right:0}.tab-group--top{flex-direction:column}.tab-group--top .tab-group__nav-container{order:1}.tab-group--top .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--top .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--top .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row;border-bottom:solid 2px var(--tabs-border-color)}.tab-group--top .tab-group__active-tab-indicator{bottom:-2px;border-bottom:solid 2px var(--sl-color-primary-500)}.tab-group--top .tab-group__body{order:2}.tab-group--bottom{flex-direction:column}.tab-group--bottom .tab-group__nav-container{order:2}.tab-group--bottom .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--bottom .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--bottom .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row;border-top:solid 2px var(--tabs-border-color)}.tab-group--bottom .tab-group__active-tab-indicator{top:calc(-1 * 2px);border-top:solid 2px var(--sl-color-primary-500)}.tab-group--bottom .tab-group__body{order:1}.tab-group--left{flex-direction:row}.tab-group--left .tab-group__nav-container{order:1}.tab-group--left .tab-group__tabs{flex:0 0 auto;flex-direction:column;border-right:solid 2px var(--tabs-border-color)}.tab-group--left .tab-group__active-tab-indicator{right:calc(-1 * 2px);border-right:solid 2px var(--sl-color-primary-500)}.tab-group--left .tab-group__body{flex:1 1 auto;order:2}.tab-group--right{flex-direction:row}.tab-group--right .tab-group__nav-container{order:2}.tab-group--right .tab-group__tabs{flex:0 0 auto;flex-direction:column;border-left:solid 2px var(--tabs-border-color)}.tab-group--right .tab-group__active-tab-indicator{left:calc(-1 * 2px);border-left:solid 2px var(--sl-color-primary-500)}.tab-group--right .tab-group__body{flex:1 1 auto;order:1}";export{l as sl_tab_group}